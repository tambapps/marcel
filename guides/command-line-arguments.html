<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Command Line Options/Arguments - The Marcel Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../marcel.html">The Marcel Programming Language</a></li><li class="chapter-item expanded "><a href="../getting-started/index.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../getting-started/installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../getting-started/hello-world.html"><strong aria-hidden="true">1.2.</strong> Hello World</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/index.html"><strong aria-hidden="true">2.</strong> Language Specification</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/syntax/index.html"><strong aria-hidden="true">2.1.</strong> Syntax</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/syntax/comments.html"><strong aria-hidden="true">2.1.1.</strong> Comments</a></li><li class="chapter-item expanded "><a href="../language-specification/syntax/identifiers.html"><strong aria-hidden="true">2.1.2.</strong> Identifier rules</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/variables.html"><strong aria-hidden="true">2.2.</strong> Variables</a></li><li class="chapter-item expanded "><a href="../language-specification/types/index.html"><strong aria-hidden="true">2.3.</strong> Types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/types/primitives.html"><strong aria-hidden="true">2.3.1.</strong> Primitives</a></li><li class="chapter-item expanded "><a href="../language-specification/types/objects.html"><strong aria-hidden="true">2.3.2.</strong> Objects</a></li><li class="chapter-item expanded "><a href="../language-specification/types/string.html"><strong aria-hidden="true">2.3.3.</strong> String</a></li><li class="chapter-item expanded "><a href="../language-specification/types/arrays.html"><strong aria-hidden="true">2.3.4.</strong> Arrays</a></li><li class="chapter-item expanded "><a href="../language-specification/types/collections.html"><strong aria-hidden="true">2.3.5.</strong> Collections</a></li><li class="chapter-item expanded "><a href="../language-specification/types/collections-of-primitives.html"><strong aria-hidden="true">2.3.6.</strong> Collection of Primitives</a></li><li class="chapter-item expanded "><a href="../language-specification/types/maps.html"><strong aria-hidden="true">2.3.7.</strong> Maps</a></li><li class="chapter-item expanded "><a href="../language-specification/types/ranges.html"><strong aria-hidden="true">2.3.8.</strong> Ranges</a></li><li class="chapter-item expanded "><a href="../language-specification/types/dynamic-objects.html"><strong aria-hidden="true">2.3.9.</strong> Dynamic Objects</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/control-flows/index.html"><strong aria-hidden="true">2.4.</strong> Control Flows</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/control-flows/marcel-truth.html"><strong aria-hidden="true">2.4.1.</strong> Marcel Truth</a></li><li class="chapter-item expanded "><a href="../language-specification/control-flows/if-else.html"><strong aria-hidden="true">2.4.2.</strong> If/Else Statements</a></li><li class="chapter-item expanded "><a href="../language-specification/control-flows/while-loops.html"><strong aria-hidden="true">2.4.3.</strong> While loops</a></li><li class="chapter-item expanded "><a href="../language-specification/control-flows/for-loops.html"><strong aria-hidden="true">2.4.4.</strong> For loops</a></li><li class="chapter-item expanded "><a href="../language-specification/control-flows/switch-when.html"><strong aria-hidden="true">2.4.5.</strong> Switch and When</a></li><li class="chapter-item expanded "><a href="../language-specification/control-flows/exception-handling.html"><strong aria-hidden="true">2.4.6.</strong> Exception Handling</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/index.html"><strong aria-hidden="true">2.5.</strong> Source File Structure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/imports.html"><strong aria-hidden="true">2.5.1.</strong> Imports</a></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/visibility.html"><strong aria-hidden="true">2.5.2.</strong> Visibility and Access</a></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/functions.html"><strong aria-hidden="true">2.5.3.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/classes.html"><strong aria-hidden="true">2.5.4.</strong> Classes</a></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/enums.html"><strong aria-hidden="true">2.5.5.</strong> Enums</a></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/script.html"><strong aria-hidden="true">2.5.6.</strong> Script</a></li><li class="chapter-item expanded "><a href="../language-specification/source-file-structure/annotations.html"><strong aria-hidden="true">2.5.7.</strong> Annotations</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/operators/index.html"><strong aria-hidden="true">2.6.</strong> Operators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/operators/plus.html"><strong aria-hidden="true">2.6.1.</strong> Plus (+)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/minus.html"><strong aria-hidden="true">2.6.2.</strong> Minus (-)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/left-shift.html"><strong aria-hidden="true">2.6.3.</strong> Left Shift (&lt;&lt;)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/comparison.html"><strong aria-hidden="true">2.6.4.</strong> Comparison Operators</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/as.html"><strong aria-hidden="true">2.6.5.</strong> As (Type casting)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/instanceof.html"><strong aria-hidden="true">2.6.6.</strong> Instance Of (Type Checking)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/indexed-access.html"><strong aria-hidden="true">2.6.7.</strong> Indexed Access (expr[index])</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/safe-navigation.html"><strong aria-hidden="true">2.6.8.</strong> Safe Navigation (?.)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/ternary-elvis.html"><strong aria-hidden="true">2.6.9.</strong> Ternary and Elvis (?:)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/direct-field-access.html"><strong aria-hidden="true">2.6.10.</strong> Direct Field Access (@)</a></li><li class="chapter-item expanded "><a href="../language-specification/operators/operator-overloading.html"><strong aria-hidden="true">2.6.11.</strong> Define your own operators</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/iterable-operations/index.html"><strong aria-hidden="true">2.7.</strong> Iterable Operations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../language-specification/iterable-operations/map-filter.html"><strong aria-hidden="true">2.7.1.</strong> Map/Filter</a></li><li class="chapter-item expanded "><a href="../language-specification/iterable-operations/any-all.html"><strong aria-hidden="true">2.7.2.</strong> Any/All</a></li><li class="chapter-item expanded "><a href="../language-specification/iterable-operations/find.html"><strong aria-hidden="true">2.7.3.</strong> Find</a></li><li class="chapter-item expanded "><a href="../language-specification/iterable-operations/chain-operations.html"><strong aria-hidden="true">2.7.4.</strong> Chain operations</a></li></ol></li><li class="chapter-item expanded "><a href="../language-specification/lambdas.html"><strong aria-hidden="true">2.8.</strong> Lambdas</a></li><li class="chapter-item expanded "><a href="../language-specification/extension-classes.html"><strong aria-hidden="true">2.9.</strong> Extension Classes</a></li></ol></li><li class="chapter-item expanded "><a href="../metaprogramming/index.html"><strong aria-hidden="true">3.</strong> Meta Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../metaprogramming/meta-annotations/index.html"><strong aria-hidden="true">3.1.</strong> Meta Annotations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../metaprogramming/meta-annotations/stringify.html"><strong aria-hidden="true">3.1.1.</strong> @stringify</a></li><li class="chapter-item expanded "><a href="../metaprogramming/meta-annotations/comparable.html"><strong aria-hidden="true">3.1.2.</strong> @comparable</a></li><li class="chapter-item expanded "><a href="../metaprogramming/meta-annotations/data.html"><strong aria-hidden="true">3.1.3.</strong> @data</a></li><li class="chapter-item expanded "><a href="../metaprogramming/meta-annotations/cached.html"><strong aria-hidden="true">3.1.4.</strong> @cached</a></li><li class="chapter-item expanded "><a href="../metaprogramming/meta-annotations/lazy.html"><strong aria-hidden="true">3.1.5.</strong> @lazy</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../asynchronous-programming/index.html"><strong aria-hidden="true">4.</strong> Asynchronous Programmming</a></li><li class="chapter-item expanded "><a href="../guides/index.html"><strong aria-hidden="true">5.</strong> Guides</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../guides/collections.html"><strong aria-hidden="true">5.1.</strong> Collections</a></li><li class="chapter-item expanded "><a href="../guides/command-line-arguments.html" class="active"><strong aria-hidden="true">5.2.</strong> Command Line Options/Arguments</a></li><li class="chapter-item expanded "><a href="../guides/regular-expressions.html"><strong aria-hidden="true">5.3.</strong> Regular Expressions</a></li></ol></li><li class="chapter-item expanded "><a href="../tools/index.html"><strong aria-hidden="true">6.</strong> Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tools/marcl.html"><strong aria-hidden="true">6.1.</strong> MarCL - Marcel's Command Line tool</a></li><li class="chapter-item expanded "><a href="../tools/marshell/index.html"><strong aria-hidden="true">6.2.</strong> Marshell - Marcel Shell</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tools/marshell/init-script.html"><strong aria-hidden="true">6.2.1.</strong> Initialization Script</a></li></ol></li><li class="chapter-item expanded "><a href="../tools/marcel-for-android.html"><strong aria-hidden="true">6.3.</strong> Marcel for Android</a></li><li class="chapter-item expanded "><a href="../tools/dumbbell.html"><strong aria-hidden="true">6.4.</strong> Dumbbell - Marcel's Dependency Manager</a></li><li class="chapter-item expanded "><a href="../tools/maven-plugin.html"><strong aria-hidden="true">6.5.</strong> Maven Plugin for Marcel</a></li><li class="chapter-item expanded "><a href="../tools/intelij-plugin.html"><strong aria-hidden="true">6.6.</strong> IntelIJ Plugin for Marcel</a></li></ol></li><li class="chapter-item expanded "><a href="../marcel-in-action/index.html"><strong aria-hidden="true">7.</strong> Marcel In Action</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../marcel-in-action/fibonacci.html"><strong aria-hidden="true">7.1.</strong> Fibonacci suite</a></li><li class="chapter-item expanded "><a href="../marcel-in-action/advent-of-code.html"><strong aria-hidden="true">7.2.</strong> Advent of code</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Marcel Programming Language</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="command-line-optionsarguments"><a class="header" href="#command-line-optionsarguments">Command Line options/arguments</a></h1>
<p>Marcel provides utilities to parse command-line options and arguments.</p>
<p>All classes referenced in this guide are available under the package <code>marcel.io.clargs</code>.</p>
<h2 id="define-options"><a class="header" href="#define-options">Define options</a></h2>
<p>An option can be defined as a field, annotated with <code>@Option</code>.</p>
<pre><code class="language-marcel">@Option
private int depth;
</code></pre>
<p>The above piece of code declares an option named <code>depth</code>.</p>
<h3 id="specify-option-names"><a class="header" href="#specify-option-names">Specify option names</a></h3>
<p>You can specify short and/or long name of your option through the annotation.</p>
<pre><code class="language-marcel">@Option(shortName = "d", longName = "depth")
private int depth
</code></pre>
<p>The difference between short and long names are how you specify the option when running the script.
Short name are to be specified with only one dash, whereas long names are to be specified with 2.</p>
<p>E.g.</p>
<pre><code class="language-shell">marcl script.mcl -d 1
marcl script.mcl --depth 1
</code></pre>
<p>When no longName was specified, Marcel fallbacks to the name of the annotated field.</p>
<h3 id="optional-options-and-default-values"><a class="header" href="#optional-options-and-default-values">Optional options and default values</a></h3>
<p>By default an option is <strong>required</strong>. You can change this behaviour by marking it as <code>required = false</code> <strong>or</strong>
by giving it a default value.</p>
<pre><code class="language-marcel">@Option(required = false)
private int depth

@Option
private int depth2 = 5 // not required as it has a default value
</code></pre>
<p>As you can see above, you can specify the default value of an option by assigning a value to a field.</p>
<p>Note that for <code>null</code> or 0 values, you'll still need to explicitly specify the <code>required = false</code> flag in order for the option to be optional.</p>
<h3 id="multivalued-options"><a class="header" href="#multivalued-options">Multivalued options</a></h3>
<p>Sometimes you may want an option to be specifiable multiple times. In such case you'll need to declare the field as a Collection.
List and Sets (<a href="../language-specification/types/collections-of-primitives.html">even of primitives</a>) are supported.</p>
<p>for example the below example allows to specify multiple <code>depth</code></p>
<pre><code class="language-marcel">@Option(shortName = "d", longName = "depth", arity = "*")
private List&lt;int&gt; depths
</code></pre>
<p>As Marcel doesn't really support generic types, you must use the <code>elementsType</code> annotation property to specify the wanted type of the
multivalued option.</p>
<pre><code class="language-marcel">@Option(shortName = "d", longName = "depth", elementsType = BigDecimal.class, arity = "*")
private List&lt;BigDecimal&gt; depths
</code></pre>
<p>The <code>arity</code> annotation property is a String specifying how many arguments there can be for the given option (defaults to 1).
It supports many formats:</p>
<ul>
<li><code>*</code> corresponds to any arity (0, or more)</li>
<li>a range, like 2..5 (from 2 inclusive to 5 inclusive)</li>
<li>a range with one infinite bound. E.g. 2..* for at least 2, or *..4 for at most 4</li>
<li>a number n followed be a '+' to specify at least n (e.g. 5+)</li>
<li>a number, for exactly n arguments</li>
</ul>
<h3 id="conversion"><a class="header" href="#conversion">Conversion</a></h3>
<p>Marcel supports argument of the following types</p>
<ul>
<li>all primitive types and their object wrapper class</li>
<li>String</li>
<li>BigInteger</li>
<li>BigDecimal</li>
<li>File</li>
<li>Path</li>
<li>Enum classes</li>
</ul>
<p>You can declare an option field of one of the above type, and Marcel will
automatically know how to convert the option's value (String) into the target type.</p>
<p>For other types, you can specify a <code>converter</code> as shown below</p>
<pre><code class="language-marcel">@Option(converter = { String s -&gt; Duration.parse(s) })
private Duration duration
</code></pre>
<p>You can throw an <code>IllegalArgumentException</code> in those lambda to specify that the option value is incorrect.</p>
<h3 id="multivalued-options-1"><a class="header" href="#multivalued-options-1">Multivalued options</a></h3>
<p>for Multi-valued options, Marcel supports</p>
<ul>
<li>List</li>
<li>Set</li>
<li>all <a href="../language-specification/types/collections-of-primitives.html">list/set of primitives</a></li>
</ul>
<p>But as Marcel does not support generic types if you declare a field as a List/Set (Java's List/Set, not of primitives),
it will put the raw value as a String in it.</p>
<p>You can still specify a custom <code>converter</code> for such options, it will be applied on <strong>each</strong> value of the option.</p>
<p>Let's look at the below options</p>
<pre><code class="language-marcel">@Option(longName = "int", arity = '*') // no need for a converter as it is a list of primitive ints
private List&lt;int&gt; ints
@Option(longName = "duration", arity = '*', converter = { String s -&gt; Duration.parse(s) })
private List durations
</code></pre>
<p>For the command</p>
<pre><code class="language-shell"> marcl Test.marcel -duration PT1S PT1M -int 1 -int 2 -int 3
</code></pre>
<p>We will have <code>ints = [1, 2, 3]</code> and <code>durations = [PT1S, PT1M]</code>.</p>
<h4 id="value-separator"><a class="header" href="#value-separator">Value separator</a></h4>
<p>As seen above, we provide multiple values to a multivalued option by using multiple times the same option,
but there is another way to pass those: using a <code>valueSeparator</code>.</p>
<p>The value separator will force the user to pass all the values of the option at once, separated by the <code>valueSeparator</code>.</p>
<p>For example, the option</p>
<pre><code class="language-marcel">@Option(longName = "int", arity = '*', valueSeparator = ',')
private List&lt;int&gt; ints
</code></pre>
<p>with the command</p>
<pre><code class="language-shell"> marcl Test.marcel -int 1,2,3
</code></pre>
<p>Will result in <code>ints = [1, 2, 3]</code>.</p>
<h3 id="validator"><a class="header" href="#validator">Validator</a></h3>
<p>Sometimes you may want to add validation to an option. You can do so by specifying
a lambda under the <code>validation</code> annotation parameter. Any <code>IllegalArgumentException</code> thrown in this lambda
will be considered as a validation error.</p>
<pre><code class="language-marcel">@Option(shortName = "n", validator = { int n -&gt;
    if (n % 2 != 0) throw new IllegalArgumentException("n should be even")
  })
private int number
</code></pre>
<h2 id="options-vs-arguments"><a class="header" href="#options-vs-arguments">Options VS Arguments</a></h2>
<p>When running a script, there are options and arguments.
The arguments of your programs are the value passed, not assigned to any name.
Whereas the options are values assigned to specific names.</p>
<p>For example, in the example below</p>
<pre><code>marcl script.mcl -d 1 -n "a value" arg1 arg2 arg3
</code></pre>
<p>There is</p>
<ul>
<li>the option <code>d=1</code></li>
<li>the option <code>n="a value"</code></li>
<li>the arguments <code>arg1</code>, <code>arg2</code>, <code>arg3</code></li>
</ul>
<h2 id="parse-options"><a class="header" href="#parse-options">Parse options</a></h2>
<p>After having declared the options and/or arguments, we want to assign them values based on the command line arguments passed
to execute the script.</p>
<p>This can be done with one line</p>
<pre><code>ClArgs.init(this, args)
</code></pre>
<p>This line of code will parse the command line <code>args</code> and assign the appropriate values to your options.</p>
<p>In more details it will</p>
<ul>
<li>parse the command line arguments</li>
<li>if any error occurred (e.g. arity not respected, type not respected, validation error): print the error, print the usage of this script, and then exit (<code>System.exit(1)</code>)</li>
<li>if no error occurred, you option fields are ready to be used</li>
</ul>
<h3 id="help-option"><a class="header" href="#help-option">Help option</a></h3>
<p>You can use the <code>@HelpOption</code> annotation on a <code>boolean</code> field to specify an option that should print usage and then exit the program
(this behaviour is handled automatically by the <code>ClArgs.init(...)</code> method), as shown below.</p>
<pre><code class="language-marcel">@HelpOption
private boolean help
</code></pre>
<h2 id="define-arguments"><a class="header" href="#define-arguments">Define arguments</a></h2>
<p>You can assign the arguments values to a field thanks to the <code>@Arguments</code> annotation.</p>
<pre><code class="language-marcel">@Arguments
private List args
</code></pre>
<h3 id="arguments-conversion-and-validation"><a class="header" href="#arguments-conversion-and-validation">Arguments conversion and validation</a></h3>
<p>This annotation also has the <code>elementsType</code>, <code>converter</code> and <code>validator</code> annotation properties allowing you to customize
the parsing/validation.</p>
<h2 id="document-the-usage-of-your-script"><a class="header" href="#document-the-usage-of-your-script">Document the usage of your script</a></h2>
<p>We've seen that the usage of your script will be printed in case of error.
You can provide more data to annotations and the <code>ClArgs.init(...)</code> method call in order to print a well explained usage.</p>
<h3 id="option-description"><a class="header" href="#option-description">Option description</a></h3>
<p>Use the <code>description</code> annotation parameter to describe what your option does</p>
<pre><code>@Option(description = "the max depth at which to search files")
private int depth
</code></pre>
<h3 id="customize-usage"><a class="header" href="#customize-usage">Customize usage</a></h3>
<p>The <code>ClArgs.init(...)</code> has several optional arguments allowing to enrich the <code>usage</code> message.</p>
<h4 id="usage"><a class="header" href="#usage">usage</a></h4>
<p>Usage summary displayed as the first line.</p>
<h4 id="header"><a class="header" href="#header">header</a></h4>
<p>Optional additional message for usage; displayed after the usage summary but before the options are displayed.</p>
<h4 id="footer"><a class="header" href="#footer">footer</a></h4>
<p>Optional additional message for usage; displayed after the options are displayed.</p>
<h2 id="full-example"><a class="header" href="#full-example">Full example</a></h2>
<p>Take a look at the below script.</p>
<pre><code class="language-marcel">import marcel.io.clargs.*
import java.time.Duration

@Option(shortName = "d", validator = { int d -&gt;
    if (d &lt;= 0) throw new IllegalArgumentException("should be positive")
  }, description = "The depth limit of the search")
private int depth = 100

@Option(shortName = "n", description = "The name to search")
private String name

@Option(shortName = "i", longName = "ignore-case", description = "whether to ignore case when matching the name", required = false)
private boolean ignoreCase


@HelpOption
private boolean help

@Arguments
private List filePaths

ClArgs.init(this, args, usage: 'marcl script.mcl')

// process options and arguments
</code></pre>
<p>The usage of this script would result as shown below</p>
<pre><code class="language-text">usage: marcl script.mcl ARGUMENTS
 -d,--depth &lt;arg&gt;   The depth limit of the search. default: 100
 -h,--help          Prints usage information
 -i,--ignore-case   whether to ignore case when matching the name. default: false
 -n,--name &lt;arg&gt;    The name to search
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../guides/collections.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../guides/regular-expressions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../guides/collections.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../guides/regular-expressions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
